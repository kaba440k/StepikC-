# 9.10 Файловые потоки. Открытие и закрытие файлов. Режимы доступа
**Подвиг 1.** Установите соответствия между классами ввода/вывода и их описаниями.

* istream - для чтения из стандартного потока ввода
* ostream - для записи в стандартный поток вывода
* ifstream - для чтения данных из файла
* ofstream - для записи данных в файл
* fstream - для записи и чтения данных из файла


**Подвиг 2.** Выберите все верные утверждения, связанные со следующей программой.

#include <iostream>
#include <fstream>

int main()
{
    std::ifstream fs1("test_file_1.txt");
    std::ofstream fs2("test_file_2.txt");

    if(!fs1.is_open()) 
        return 1;
    if(!fs2.is_open()) 
        return 2;

    fs1.close();
    fs2.close();

    return 0;
}


* (-)файл "test_file_1.txt" открывается на запись в текстовом режиме доступа

* (+)файл "test_file_2.txt" открывается на запись в текстовом режиме доступа

* (+)для работы с классами ifstream и ofstream в программе необходимо подключить заголовок fstream

* (+)файл "test_file_1.txt" открывается на чтение в текстовом режиме доступа

* (+)если файл "test_file_1.txt" не может быть открыт, то функция main завершается с кодом 1

* (+)если файл "test_file_2.txt" не может быть открыт, то функция main завершается с кодом 2

* (-)для работы с классами ifstream и ofstream в программе необходимо подключить заголовок iostream

* (+)метод close() закрывает файловый поток и освобождает все связанные с ним ресурсы

* (-)файл "test_file_2.txt" открывается на чтение в текстовом режиме доступа

**Подвиг 3.** Запишите команду для потока ifs, которая открывает файл с именем my_marks.dat, расположенный в подкаталоге study, только на чтение в текстовом режиме доступа.

P. S. Запись команды начинать с имени переменной ifs. В конце не забудьте поставить точку с запятой.

#include <fstream>

using std::ios;

int main()
{
    std::ifstream ifs;
    // здесь будет располагаться введенная команда

    ifs.close();

    return 0;
}

* Напишите текст
    * ifs.open("study/my_marks.dat");


**Подвиг 4.** Установите соответствия между режимами доступа и их описаниями.
* ios::in - для чтения (только для объектов классов ifstream или fstream)
* ios::out - для записи; прежние данные удаляются (только для объектов классов ofstream или fstream)
* ios::app - для дозаписи; прежние данные не удаляются
* ios::ate - при открытии указатель файла смещается в конец
* ios::binary - открытие файла в бинарном режиме доступа


**Подвиг 5.** Запишите команду для потока ofs, которая открывает файл с именем my_table.txt, расположенный в текущем (рабочем) каталоге, только на дозапись в текстовом режиме доступа.

P. S. Запись команды начинать с имени переменной ofs. В конце не забудьте поставить точку с запятой.

#include <fstream>

using std::ios;

int main()
{
    std::ofstream ofs;
    // здесь будет располагаться введенная команда

    ofs.close();

    return 0;
}
* Напишите текст
    * ofs.open("my_table.txt", ios::app);


**Подвиг 6.** Пусть в программе открыт файловый поток с использованием переменной (объекта) my_file_stream. Необходимо записать команду (с использованием метода) для проверки успешности открытия потока.

P. S. Записать нужно только команду без проверок каких-либо условий. Запись начинайте с объекта my_file_stream, в конце поставьте точку с запятой.

* Напишите текст
    * my_file_stream.is_open();


**Подвиг 7.** Запишите комбинацию режимов для открытия файлового потока на чтение в бинарном режиме доступа. Предполагается, что в программе прописана конструкция:

using std::ios;
P. S. Записать нужно только режим, больше ничего.

* Напишите текст
    * ios::in | ios::binary


**Подвиг 8 (на повторение).** Выберите все верные утверждения, касающиеся файловых потоков языка Си.

* (+)для работы с файловыми функциями необходимо подключить файл stdio.h

* (+)после работы с файловым потоком его следует закрыть функцией fclose

* (+)каждый файловый поток (по умолчанию) имеет буфер приема или передачи данных

* (+)на файловый поток ссылается указатель специального типа FILE

* (+)новый файловый поток открывается с помощью функции fopen

* (+)функция fclose освобождает все ресурсы, связанные с открытым файловым потоком


**Подвиг 9 (на повторение).** Установите соответствия между режимами доступа к файлу в языке Си и их описаниями.

* "r" - открытие файла в текстовом режиме только на чтение
* "w" - открытие файла в текстовом режиме только на запись
* "a" - открытие файла в текстовом режиме на дозапись (новые данные добавляются в конец файла)
* "r+" - открытие файла в текстовом режиме для чтения и записи одновременно (новый файл не создается и прежнее содержимое не удаляется)
* "w+" - открытие файла в текстовом режиме для чтения и записи; если файл не существует, то он создается; если существовал, то все его прежнее содержимое удаляется
* "a+" - открытие файла в текстовом режиме для чтения и записи на дозапись (если файл не существует, то он создается)